"0","library(dplyr)"
"0",""
"0","# Fusionner toutes les données de la population en un seul dataframe"
"0","combined_data <- bind_rows(list_metric_errat, .id = ""ID"")"
"0",""
"0","# Appliquer ntile pour diviser en 3 groupes égaux pour chaque métrique"
"0","temporary_combined_data <- combined_data %>%filter(prop_day_tracked>=0.2)%>%"
"0","  mutate("
"0","    # Classification pour dnest_max_life en 3 quantiles égaux"
"0","    dnest_max_life_class = ntile(dnest_max_life, 3),"
"0","    "
"0","    # Classification pour dnest_mean_life en 3 quantiles égaux"
"0","    dnest_mean_life_class = ntile(dnest_mean_life, 3),"
"0","    "
"0","    # Classification pour dnest_mean_month en 3 quantiles égaux"
"0","    dnest_mean_month_class = ntile(dnest_mean_month, 3),"
"0","    "
"0","    # Classification pour dist_mean_life en 3 quantiles égaux"
"0","    dist_mean_life_class = ntile(dist_mean_life, 3),"
"0","    "
"0","    # Classification pour dist_cum_life en 3 quantiles égaux"
"0","    dist_cum_life_class = ntile(dist_cum_life, 3),"
"0","    "
"0","    # Classification pour dist_cum_month en 3 quantiles égaux"
"0","    dist_cum_month_class = ntile(dist_cum_month, 3)"
"0","  )"
"0","data_metric_all_ind<-left_join(combined_data,temporary_combined_data)%>%"
"0","#On ajoute une classe 0 quand on a moins de 20% de jours suivis dans un mois"
"0","  mutate(dnest_max_life_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dnest_max_life_class),"
"0","         dnest_mean_life_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dnest_mean_life_class),"
"0","         dnest_mean_month_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dnest_mean_month_class),"
"0","         dist_mean_life_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dist_mean_life_class),"
"0","         dist_cum_life_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dist_cum_life_class),"
"0","         dist_cum_month_class=case_when(prop_day_tracked<0.2~5,"
"0","                                        TRUE~dist_cum_month_class))"
"2","Joining with `by = join_by(month, ID, debut_periode, fin_periode, prop_day_tracked, dnest_max_life, dnest_mean_life, dnest_mean_month, dist_mean_life, dist_cum_life, dist_cum_month)`"
"0","    "
"0","    "
"0","    "
"0","    "
"0","    # Affichage du résultat pour un individu (par exemple BA11496)"
"0","View(temporary_combined_data)"
